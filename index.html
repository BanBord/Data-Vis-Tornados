<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US Counties Map with Names</title>
    <style>
        body { margin: 0; }
        svg { width: 100%; height: 100vh; }
        .county-label {
            font-size: 10px;
            fill: #000;
            text-anchor: middle;
        }
    </style>
</head>
<body>
    <div id="map-container"></div>

    <!-- Include D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <!-- Include TopoJSON -->
    <script src="https://d3js.org/topojson.v3.min.js"></script>

    <script>
        // Set up SVG container
        const width = window.innerWidth;
        const height = window.innerHeight;
        const svg = d3.select("#map-container").append("svg")
            .attr("width", width)
            .attr("height", height);

        // Define a projection and path generator
        const projection = d3.geoAlbersUsa().scale(1300).translate([width / 2, height / 2]);
        const path = d3.geoPath().projection(projection);

        // Load and process TopoJSON data
        d3.json('topojson.json').then(data => {
            const counties = topojson.feature(data, data.objects.counties).features;

            // Draw counties with a stroke
            svg.selectAll("path")
                .data(counties)
                .enter().append("path")
                .attr("d", path)
                .attr("fill", "#cccccc") // Fill color for counties
                .attr("stroke", "#000000") // Black stroke for county borders
                .attr("stroke-width", 0.5) // Stroke width
                .attr("name", function(d) { return d.properties.name; })
                .attr("ID", function(d) { return d.id; });

            // Append county names
        //     svg.selectAll(".county-label")
        //         .data(counties)
        //         .enter().append("text")
        //         .attr("class", "county-label")
        //         .attr("transform", function(d) {
        //             return "translate(" + path.centroid(d) + ")";
        //         })
        //         .text(function(d) { return d.properties.name; });
        // }).catch(error => {
        //     console.error('Error loading or processing TopoJSON data:', error);
        });
    </script>
</body>
</html>